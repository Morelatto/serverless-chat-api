
@startuml
!theme plain
skinparam backgroundColor white

title Error Handling: LLM Failure with Fallback

actor Client
participant "Service" as Service
participant "Gemini" as Primary
participant "OpenRouter" as Fallback

Client -> Service: process_message()
Service -> Primary: complete(prompt)
Primary --> Service: timeout/error
Service -> Fallback: complete(prompt)
Fallback --> Service: response_text
Service --> Client: 200 OK

note over Primary: Primary provider fails
note over Fallback: Fallback provider succeeds

@enduml
